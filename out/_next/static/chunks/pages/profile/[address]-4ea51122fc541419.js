(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3376],{36220:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/[address]",function(){return l(66704)}])},66704:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return y}});var i=l(85893),t=l(50101),n=l(9008),r=l.n(n),a=l(11163),d=l(67294),o=l(69077),c=l(98531),u=l(97449),f=l(94720),h=l(36752),x=l(77458),m=l(35232),g=l(72047),w=l(37365),b=l(2917),v=l(81997),j=l(62616),p=l(25675),N=l.n(p);function y(){var e,s,l,n;let{address:p,isConnected:y}=(0,o.mA)(),E=(0,a.useRouter)(),[F,A]=(0,d.useState)(),[B,H]=(0,d.useState)(!1),[_,C]=(0,d.useState)([]),{user:P,setUser:S}=(0,b.m)(),k=(0,f.p)(),{data:T}=(0,o.do)({address:"0x".concat("9ff82F92B2D3859278EedE1C5e2BF04a9b0E80e9"),abi:c.Mt,functionName:"getUserByAddress",enabled:!!E.query.address,args:[E.query.address],onSuccess(e){"0x0000000000000000000000000000000000000000"!==e.userAddress&&A(e)},onError(e){L("User not found")}}),{data:D}=(0,o.do)({address:"0x".concat("bb19cbB272cDb3867adAD194ACA58005D419306a"),abi:u.Mt,functionName:"getBoardsByOwner",args:[p],onSuccess(e){},onError(e){L("Boards not found")}}),{data:U,status:O,writeAsync:G}=(0,o.GG)({address:"0x".concat("9ff82F92B2D3859278EedE1C5e2BF04a9b0E80e9"),abi:c.Mt,functionName:"followUser",onSuccess(e){L("Followed user")}}),{data:I,status:M,writeAsync:q}=(0,o.GG)({address:"0x".concat("9ff82F92B2D3859278EedE1C5e2BF04a9b0E80e9"),abi:c.Mt,functionName:"unfollowUser",onSuccess(e){L("Unfollowed user"),H(!1)}});(0,d.useEffect)(()=>{if(F&&P){var e;(null===(e=F.followers)||void 0===e?void 0:e.find(e=>Number(e)===(null==P?void 0:P.id)))&&H(!0)}},[y,T,D,B,T,F,P]);let X=async()=>{P&&F?await G({args:[P.id,Number(F.id)]}).then(()=>{S({...P,following:P.following?[...P.following,F.id]:[F.id]}),A({...F,followers:F.followers?[...F.followers,P.id]:[P.id]}),(0,j.ds)({...P,following:P.following?[...P.following,F.id]:[F.id]}),H(!0)}).catch(e=>{L("Transaction rejected")}):L("User or Profile is undefined")},z=async()=>{P&&F?await q({args:[P.id,Number(F.id)]}).then(()=>{var e,s,l;S({...P,following:null===(e=P.following)||void 0===e?void 0:e.filter(e=>Number(e)!==Number(F.id))}),A({...F,followers:null===(s=F.followers)||void 0===s?void 0:s.filter(e=>Number(e)!==Number(P.id))}),(0,j.ds)({...P,following:null===(l=P.following)||void 0===l?void 0:l.filter(e=>Number(e)!==Number(F.userAddress))}),H(!1)}).catch(e=>{L("Transaction rejected")}):L("User or Profile is undefined")};function L(e,s){k({position:"top",render:()=>(0,i.jsx)(v.F,{text:e,imageHash:s})})}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r(),{children:(0,i.jsx)("title",{children:"Detail"})}),(0,i.jsxs)("main",{className:"flex flex-col min-h-screen overflow-auto bg-black mb-18",children:[(0,i.jsx)(t.x,{isBoard:!1,isSavedPin:!1,isProfile:!1,hideBackButton:!1}),F&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center pt-20",children:[F.profileImageHash&&(0,i.jsx)("div",{className:"",children:(0,i.jsx)(N(),{src:"https://web3-pinterest.infura-ipfs.io/ipfs/".concat(F.profileImageHash),className:"object-cover w-40 h-40 rounded-full",alt:"Profile Image",width:100,height:100})}),""!=F.name||F.userAddress&&(0,i.jsx)("div",{className:"mt-2 text-2xl font-bold text-white",children:""!=F.name?F.name:F.userAddress.substring(0,6)+"..."+F.userAddress.substring(F.userAddress.length-4,F.userAddress.length)}),F.username&&(0,i.jsxs)("div",{className:"mt-2 text-sm font-medium text-gray-400",children:["@",F.username.toLowerCase()]}),F.bio&&(0,i.jsx)("div",{className:"px-6 mt-2 text-base font-medium text-white",children:F.bio}),(0,i.jsxs)("div",{className:"flex items-center justify-center mt-4 space-x-4",children:[(0,i.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,i.jsxs)("div",{className:"text-sm font-medium text-gray-400",children:[null!==(l=null===(e=F.followers)||void 0===e?void 0:e.length)&&void 0!==l?l:0," Followers"]})}),(0,i.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,i.jsxs)("div",{className:"text-sm font-medium text-gray-400",children:[null!==(n=null===(s=F.following)||void 0===s?void 0:s.length)&&void 0!==n?n:0," Following"]})})]}),(0,i.jsx)("button",{className:"px-4 py-2 mt-4 text-white transition-colors  ".concat(B?"bg-gray-700":"bg-red-600"," rounded-3xl"),onClick:B?z:X,children:B?"Following":"Follow"})]}),(0,i.jsx)("div",{className:"relative flex flex-col items-center mt-6",children:(0,i.jsxs)(h.m,{variant:"soft-rounded",colorScheme:"primary",defaultIndex:1,size:"md",align:"center",children:[(0,i.jsxs)(x.t,{children:[(0,i.jsx)(m.O,{children:"Created"},"Tab-1"),(0,i.jsx)(m.O,{children:"Saved"},"Tab-2")]}),(0,i.jsxs)(g.n,{children:[(0,i.jsx)(w.x,{},"TabPanel-1"),(0,i.jsx)(w.x,{width:"100vw",children:(0,i.jsx)("div",{className:"grid grid-cols-2 gap-4 mb-16",children:null==_?void 0:_.map(e=>{let{id:s,name:l,pins:t}=e;return(0,i.jsx)(d.Fragment,{children:(0,i.jsxs)("div",{className:"text-left",onClick:()=>E.push("/boards/".concat(l,"/").concat(s)),children:[(0,i.jsxs)("div",{className:"h-[120px] rounded-3xl grid ".concat((null==t?void 0:t.length)>1&&t[1].imageHash||(null==t?void 0:t.length)===0?"grid-cols-2":"grid-cols-1"," gap-x-0.5"),children:[(0,i.jsx)("div",{className:"col-span-1",children:(null==t?void 0:t.length)>0&&t[0].imageHash?(0,i.jsx)(N(),{className:"object-cover w-full h-[120px] ".concat(t.length>1&&t[0].imageHash?"rounded-tl-3xl rounded-bl-3xl":"rounded-3xl"),src:"https://web3-pinterest.infura-ipfs.io/ipfs/".concat(t[0].imageHash),alt:t[0].title,width:100,height:100}):(0,i.jsx)("div",{className:"h-full bg-white rounded-tl-3xl rounded-bl-3xl"})}),(0,i.jsxs)("div",{className:"grid col-span-1 ".concat((null==t?void 0:t.length)>2&&t[2].imageHash||(null==t?void 0:t.length)===0?"grid-rows-2 gap-y-0.5":"grid-rows-1"," "),children:[(null==t?void 0:t.length)>1&&t[1].imageHash?(0,i.jsx)(N(),{className:"object-cover w-full ".concat(t.length>2&&t[2].imageHash?"h-[60px]":"h-[120px] rounded-br-3xl"," rounded-tr-3xl"),src:"https://web3-pinterest.infura-ipfs.io/ipfs/".concat(t[1].imageHash),alt:t[1].title,width:100,height:100}):(0,i.jsx)("div",{className:"h-full row-span-1 bg-white rounded-tr-3xl"}),(null==t?void 0:t.length)>2&&t[2].imageHash&&(0,i.jsx)(N(),{className:"object-cover w-full h-[60px] rounded-br-3xl",src:"https://web3-pinterest.infura-ipfs.io/ipfs/".concat(t[2].imageHash),alt:t[2].title,width:100,height:100}),0===t.length&&(0,i.jsx)("div",{className:"h-full row-span-1 bg-white rounded-br-3xl"})]})]}),(0,i.jsx)("p",{className:"pl-[0.7rem]",children:l}),(0,i.jsxs)("p",{className:"text-xs text-gray-400 pl-[0.7rem]",children:[null==t?void 0:t.length," Pins"]})]})},s)})})},"TabPanel-2")]})]})})]})]})]})}}},function(e){e.O(0,[260,4617,5937,9866,1450,6932,6530,3673,2707,101,9774,2888,179],function(){return e(e.s=36220)}),_N_E=e.O()}]);