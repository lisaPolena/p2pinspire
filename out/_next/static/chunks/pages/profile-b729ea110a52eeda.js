(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{56896:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return i(34628)}])},34628:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return k}});var n=i(85893),a=i(9008),s=i.n(a),r=i(51039),d=i(67294),l=i(11163),o=i(94720),c=i(36752),u=i(77458),m=i(35232),h=i(72047),b=i(37365),x=i(55281),p=i(96854),f=i(2917),g=i(69077),N=i(63816),v=i(97449),j=i(47296),w=i(98531),D=i(33299),y=i(50101),I=i(95410),C=i(81997),B=i(62616),A=i(25675),H=i.n(A);function k(){var e,t,i,a;let{address:A,isConnected:k,connector:P}=(0,g.mA)(),{data:_,status:F}=(0,D.useSession)(),{user:S,setUser:E,allBoards:M,setAllBoards:O,loadCreateBoardTransaction:T,loadDeleteBoardTransaction:R,setLoadDeleteBoardTransaction:$,setLoadCreateBoardTransaction:L,setDeleteProfile:q}=(0,f.m)(),z=(0,l.useRouter)(),[J,K]=(0,d.useState)([]),X=(0,o.p)(),[Y,G]=(0,d.useState)(!1),{data:Q}=(0,g.do)({address:"0x".concat("55706B2c62cbdda9317343A7290F0bD54e70cCf3"),abi:j.Mt,functionName:"getAllPins",onSuccess(e){K(e.filter(e=>e.owner===A))}});(0,g.y2)({address:"0x".concat("bb19cbB272cDb3867adAD194ACA58005D419306a"),abi:v.Mt,eventName:"BoardCreated",listener(e){let t=e[0].args;V(Number(t.boardId),t.boardName,t.boardDescription,t.owner),L(!1)}}),(0,g.y2)({address:"0x".concat("bb19cbB272cDb3867adAD194ACA58005D419306a"),abi:v.Mt,eventName:"BoardDeleted",listener(e){let t=e[0].args;W(Number(t.boardId)),$(0),es("Board deleted!","")}}),(0,g.y2)({address:"0x".concat("bb19cbB272cDb3867adAD194ACA58005D419306a"),abi:v.Mt,eventName:"BoardEdited",listener(e){let t=e[0].args;Z(Number(t.boardId),t.newName,t.newDescription,t.boardCoverHash);let i=t.newName+" edited!";es(i,"")}}),(0,g.y2)({address:"0x".concat("bb19cbB272cDb3867adAD194ACA58005D419306a"),abi:v.Mt,eventName:"PinSaved",listener(e){let t=e[0].args;ee(Number(t.pinId),t.title,t.description,t.imageHash,Number(t.boardId),t.owner),ea(t.imageHash,Number(t.boardId))}}),(0,g.y2)({address:"0x".concat("55706B2c62cbdda9317343A7290F0bD54e70cCf3"),abi:j.Mt,eventName:"PinCreated",listener(e){let t=e[0].args;ee(Number(t.pinId),t.title,t.description,t.imageHash,Number(t.boardId),t.owner),ea(t.imageHash,Number(t.boardId))}}),(0,g.y2)({address:"0x".concat("55706B2c62cbdda9317343A7290F0bD54e70cCf3"),abi:j.Mt,eventName:"CreatedPinEdited",listener(e){let t=e[0].args;t.oldBoardId!==t.newBoardId&&et(Number(t.pinId),t.newTitle,t.newDescription,t.imageHash,Number(t.oldBoardId),Number(t.newBoardId),t.owner)}}),(0,g.y2)({address:"0x".concat("bb19cbB272cDb3867adAD194ACA58005D419306a"),abi:v.Mt,eventName:"SavedPinEdited",listener(e){let t=e[0].args;t.oldBoardId!==t.newBoardId&&ei(Number(t.pinId),Number(t.oldBoardId),Number(t.newBoardId))}}),(0,g.y2)({address:"0x".concat("55706B2c62cbdda9317343A7290F0bD54e70cCf3"),abi:j.Mt,eventName:"PinDeleted",listener(e){let t=e[0].args;en(Number(t.pinId),Number(t.boardId)),es("Pin deleted!","")}}),(0,g.y2)({address:"0x".concat("bb19cbB272cDb3867adAD194ACA58005D419306a"),abi:v.Mt,eventName:"SavedPinDeleted",listener(e){let t=e[0].args;en(Number(t.pinId),Number(t.boardId)),es("Pin deleted!","")}}),(0,g.y2)({address:"0x".concat("9ff82F92B2D3859278EedE1C5e2BF04a9b0E80e9"),abi:w.Mt,eventName:"UserDeleted",listener(e){E(null),(0,B.p8)(),z.push("/")}}),(0,d.useEffect)(()=>{if(k||"unauthenticated"!==F||_||S||z.push("/"),S||E((0,B.qj)()),0===M.length&&!Y){let e=(0,I.MR)();O(e),G(!0)}return P&&P.on("change",U),()=>{P&&P.off("change",U)}},[k,F,_,M,P,Y]);let U=e=>{let{account:t,chain:i}=e;if(t){(0,I._R)(),z.push("/home");let e="Account changed to "+t.slice(0,4)+"..."+t.slice(38,t.length);X({position:"top",render:()=>(0,n.jsx)(C.F,{text:e})})}else if(i){let e=i.unsupported?"Sry, the network is not supported!":"You changed the network.";X({position:"top",render:()=>(0,n.jsx)(C.F,{text:e})})}},V=(e,t,i,n)=>{let a=[...M.filter(t=>{let{id:i}=t;return Number(i)!==Number(e)}),{id:Number(e),name:t,description:i,owner:n,pins:[],boardCoverHash:""}].sort((e,t)=>Number(e.id)-Number(t.id));O(a),(0,I.o6)(a)},W=e=>{let t=M.filter(t=>{let{id:i}=t;return i!==e}).sort((e,t)=>e.id-t.id);O(t),(0,I.o6)(t)},Z=(e,t,i,n)=>{let a=M.map(a=>a.id===e?{...a,name:t,description:i,boardCoverHash:n}:a);O(a),(0,I.o6)(a)},ee=(e,t,i,n,a,s)=>{let r={id:e,title:t,description:i,imageHash:n,boardId:a,owner:s},d=M.map(e=>e.id===a?{...e,pins:[...e.pins,r]}:e);O(d),(0,I.o6)(d)},et=(e,t,i,n,a,s,r)=>{let d={id:e,title:t,description:i,imageHash:n,boardId:s,owner:r},l=M.map(t=>t.id===a?{...t,pins:t.pins.filter(t=>Number(t.id)!==e)}:t.id===s?{...t,pins:[...t.pins,d]}:t);O(l),(0,I.o6)(l)},ei=(e,t,i)=>{var n;let a=null===(n=M.find(e=>e.id===t))||void 0===n?void 0:n.pins.find(t=>Number(t.id)===e),s=M.map(n=>n.id===t?{...n,pins:n.pins.filter(t=>Number(t.id)!==e)}:n.id===i?{...n,pins:[...n.pins,a]}:n);O(s),(0,I.o6)(s)},en=(e,t)=>{let i=M.map(i=>i.id===t?{...i,pins:i.pins.filter(t=>Number(t.id)!==e)}:i);O(i),(0,I.o6)(i)};function ea(e,t){var i;let a=null===(i=M.find(e=>e.id===t))||void 0===i?void 0:i.name,s="Pin saved to "+a;X({position:"top",render:()=>(0,n.jsx)(C.F,{text:s,imageHash:e})})}function es(e,t){X({position:"top",render:()=>(0,n.jsx)(C.F,{text:e,imageHash:t})})}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s(),{children:(0,n.jsx)("title",{children:"Profile"})}),(0,n.jsxs)("main",{className:"min-h-screen bg-black",children:[(0,n.jsx)(y.x,{isBoard:!1,isSavedPin:!1,isProfile:!0,hideBackButton:!0}),(0,n.jsx)("div",{className:"absolute z-[10] top-2 left-28",children:(0,n.jsx)(N.NL,{label:"Connect"})}),(0,n.jsx)("div",{className:"flex flex-col items-center justify-center pt-20",children:S&&(0,n.jsxs)(n.Fragment,{children:[S.profileImageHash&&(0,n.jsx)("div",{className:"",children:(0,n.jsx)(H(),{src:"https://web3-pinterest.infura-ipfs.io/ipfs/".concat(S.profileImageHash),className:"object-cover w-40 h-40 rounded-full",alt:"Profile Image",width:100,height:100})}),S.name&&(0,n.jsx)("div",{className:"mt-2 text-2xl font-bold text-white",children:S.name}),S.username&&(0,n.jsxs)("div",{className:"mt-2 text-sm font-medium text-gray-400",children:["@",S.username.toLowerCase()]}),S.bio&&(0,n.jsx)("div",{className:"px-6 mt-2 text-base font-medium text-white",children:S.bio}),(0,n.jsxs)("div",{className:"flex items-center justify-center mt-4 space-x-4",children:[(0,n.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,n.jsxs)("div",{className:"text-sm font-medium text-gray-400",children:[null!==(i=null===(e=S.followers)||void 0===e?void 0:e.length)&&void 0!==i?i:0," Followers"]})}),(0,n.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,n.jsxs)("div",{className:"text-sm font-medium text-gray-400",children:[null!==(a=null===(t=S.following)||void 0===t?void 0:t.length)&&void 0!==a?a:0," Following"]})})]})]})}),(0,n.jsx)("div",{className:"relative flex flex-col items-center mt-6",children:(0,n.jsxs)(c.m,{variant:"soft-rounded",colorScheme:"primary",defaultIndex:1,size:"md",align:"center",children:[(0,n.jsxs)(u.t,{children:[(0,n.jsx)(m.O,{children:"Created"},"Tab-1"),(0,n.jsx)(m.O,{children:"Saved"},"Tab-2")]}),(0,n.jsxs)(h.n,{children:[(0,n.jsx)(b.x,{children:(null==J?void 0:J.length)!==0?(0,n.jsx)("div",{className:"grid grid-cols-3 gap-3 px-3 mt-4 mb-16",children:J.map(e=>(0,n.jsx)("div",{className:"h-auto",onClick:()=>z.push("/pin/".concat(e.id,"?boardId=").concat(e.boardId)),children:(0,n.jsx)(H(),{src:"https://web3-pinterest.infura-ipfs.io/ipfs/".concat(e.imageHash),alt:e.title,className:"object-cover w-full rounded-2xl h-36",width:100,height:100})},e.id))}):(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,n.jsx)("p",{className:"text-lg font-bold",children:"You haven not created any pins yet."}),(0,n.jsx)("p",{className:"text-lg font-bold",children:"Create your first pin."})]})},"TabPanel-1"),(0,n.jsx)(b.x,{width:"100vw",children:(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-16",children:[null==M?void 0:M.map(e=>{let{id:t,name:i,pins:a}=e;return(0,n.jsx)(d.Fragment,{children:R&&R===Number(t)?(0,n.jsxs)(x.K,{children:[(0,n.jsx)(p.O,{height:"120px",width:"100%",fadeDuration:4}),(0,n.jsx)(p.O,{height:"10px",width:"70%",fadeDuration:4}),(0,n.jsx)(p.O,{height:"5px",width:"40%",fadeDuration:4})]}):(0,n.jsxs)("div",{className:"text-left",onClick:()=>z.push("/boards/".concat(i,"/").concat(t)),children:[(0,n.jsxs)("div",{className:"h-[120px] rounded-3xl grid ".concat((null==a?void 0:a.length)>1&&a[1].imageHash||(null==a?void 0:a.length)===0?"grid-cols-2":"grid-cols-1"," gap-x-0.5"),children:[(0,n.jsx)("div",{className:"col-span-1",children:(null==a?void 0:a.length)>0&&a[0].imageHash?(0,n.jsx)(H(),{className:"object-cover w-full h-[120px] ".concat(a.length>1&&a[0].imageHash?"rounded-tl-3xl rounded-bl-3xl":"rounded-3xl"),src:"https://web3-pinterest.infura-ipfs.io/ipfs/".concat(a[0].imageHash),alt:a[0].title,width:100,height:100}):(0,n.jsx)("div",{className:"h-full bg-white rounded-tl-3xl rounded-bl-3xl"})}),(0,n.jsxs)("div",{className:"grid col-span-1 ".concat((null==a?void 0:a.length)>2&&a[2].imageHash||(null==a?void 0:a.length)===0?"grid-rows-2 gap-y-0.5":"grid-rows-1"," "),children:[(null==a?void 0:a.length)>1&&a[1].imageHash?(0,n.jsx)(H(),{className:"object-cover w-full ".concat(a.length>2&&a[2].imageHash?"h-[60px]":"h-[120px] rounded-br-3xl"," rounded-tr-3xl"),src:"https://web3-pinterest.infura-ipfs.io/ipfs/".concat(a[1].imageHash),alt:a[1].title,width:100,height:100}):(0,n.jsx)("div",{className:"h-full row-span-1 bg-white rounded-tr-3xl"}),(null==a?void 0:a.length)>2&&a[2].imageHash&&(0,n.jsx)(H(),{className:"object-cover w-full h-[60px] rounded-br-3xl",src:"https://web3-pinterest.infura-ipfs.io/ipfs/".concat(a[2].imageHash),alt:a[2].title,width:100,height:100}),0===a.length&&(0,n.jsx)("div",{className:"h-full row-span-1 bg-white rounded-br-3xl"})]})]}),(0,n.jsx)("p",{className:"pl-[0.7rem]",children:i}),(0,n.jsxs)("p",{className:"text-xs text-gray-400 pl-[0.7rem]",children:[null==a?void 0:a.length," Pins"]})]})},t)}),T&&(0,n.jsxs)(x.K,{children:[(0,n.jsx)(p.O,{height:"120px",width:"100%",fadeDuration:4}),(0,n.jsx)(p.O,{height:"10px",width:"70%",fadeDuration:4}),(0,n.jsx)(p.O,{height:"5px",width:"40%",fadeDuration:4})]})]})},"TabPanel-2")]})]})})]}),(0,n.jsx)(r.w,{})]})}},96854:function(e,t,i){"use strict";i.d(t,{O:function(){return f}});var n=i(67294),a=i(25432),s=i(16914),r=i(33179),d=i(70917),l=i(16554),o=i(27440),c=i(42006),u=i(85893),m=(0,s.m)("div",{baseStyle:{boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none","&::before, &::after, *":{visibility:"hidden"}}}),h=(0,r.gJ)("skeleton-start-color"),b=(0,r.gJ)("skeleton-end-color"),x=(0,d.F4)({from:{opacity:0},to:{opacity:1}}),p=(0,d.F4)({from:{borderColor:h.reference,background:h.reference},to:{borderColor:b.reference,background:b.reference}}),f=(0,l.G)((e,t)=>{let i={...e,fadeDuration:"number"==typeof e.fadeDuration?e.fadeDuration:.4,speed:"number"==typeof e.speed?e.speed:.8},d=(0,o.mq)("Skeleton",i),l=function(){let e=(0,n.useRef)(!0);return(0,n.useEffect)(()=>{e.current=!1},[]),e.current}(),{startColor:f="",endColor:g="",isLoaded:N,fadeDuration:v,speed:j,className:w,fitContent:D,...y}=(0,r.Lr)(i),[I,C]=(0,c.dQ)("colors",[f,g]),B=function(e){let t=(0,n.useRef)();return(0,n.useEffect)(()=>{t.current=e},[e]),t.current}(N),A=(0,a.cx)("chakra-skeleton",w),H={...I&&{[h.variable]:I},...C&&{[b.variable]:C}};if(N){let e=l||B?"none":`${x} ${v}s`;return(0,u.jsx)(s.m.div,{ref:t,className:A,__css:{animation:e},...y})}return(0,u.jsx)(m,{ref:t,className:A,...y,__css:{width:D?"fit-content":void 0,...d,...H,_dark:{...d._dark,...H},animation:`${j}s linear infinite alternate ${p}`}})});f.displayName="Skeleton"}},function(e){e.O(0,[260,4617,5937,9866,1228,2013,1827,1450,6932,1924,6530,3673,2707,101,1039,9774,2888,179],function(){return e(e.s=56896)}),_N_E=e.O()}]);